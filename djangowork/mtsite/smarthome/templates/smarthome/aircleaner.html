<!-- C\Code\mysite\elections\templates\elections\index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>냉난방기 page</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="refresh" content="150;url=http://localhost:8000/airconditioner/Tempsensorinfo%20object%20(6096)/">
    <script>
		function test() {
            window.onkeydown = function(e) {
                if(e.keyCode == 116 || e.ctrlKey == true && (e.keyCode == 82)) {
                    history.replaceState({}, null, location.pathname);
                }
            }
		}

        function CallbackFunction(event) {
            if(window.event) {
                if (window.event.clientX < 40 && window.event.clientY < 0) {
                   
                } else{
                    history.replaceState({}, null, location.pathname);
                }
            } else{
                if (event.currentTarget.performance.navigation.type == 1) {
                    history.replaceState({}, null, location.pathname);
                }           
            }
        }

        function changeOnOffColor(situation) {
            var on1 = document.getElementById("on1");
            var on2 = document.getElementById("on2");
            var on3 = document.getElementById("on3");
            var off = document.getElementById("off");

            if (situation == 0) {
                on1.style.backgroundColor = '#959595';
                on2.style.backgroundColor = '#959595';
                on3.style.backgroundColor = '#959595';
                off.style.backgroundColor = '#00b7ee';
                off.style.color = 'white';
            }
            if (situation == 1) {
                off.style.backgroundColor = '#959595';
                on2.style.backgroundColor = '#959595';
                on3.style.backgroundColor = '#959595';
                on1.style.backgroundColor = '#00b7ee';
                on1.style.color = 'white';
            }
            if (situation == 2) {
                on1.style.backgroundColor = '#959595';
                off.style.backgroundColor = '#959595';
                on3.style.backgroundColor = '#959595';
                on2.style.backgroundColor = '#00b7ee';
                on2.style.color = 'white';
            }
            if (situation == 3) {
                on1.style.backgroundColor = '#959595';
                on2.style.backgroundColor = '#959595';
                off.style.backgroundColor = '#959595';
                on3.style.backgroundColor = '#00b7ee';
                on3.style.color = 'white';
            }

            
        }

        function changeIsAutoColor(isAuto) {
            var is_auto = document.getElementById("is_auto");

            if (isAuto == -1 || isAuto == 0) {
                is_auto.style.backgroundColor = '#959595';
            }

            if (isAuto == 1) {
                is_auto.style.backgroundColor = '#00b7ee';
                is_auto.style.color = 'white';
            }
        }

    </script>
    <style>
        div {
            text-align: center;
            /* border: 1px solid black; */
        }

        #arrow_div {
            text-align: left;
        }

        #logo_div {
            text-align: right;
        }

        #arrow_img, #logo_img {
            width: 30px;
        }

        .topbar_table, .onoff_table {
            display: table;
            width: 70%;
            margin: auto;
            text-align: center;
        }

        .onoff_table {
            table-layout: fixed;
        }

        .topbar, .onoff_tr {
            display: table-row;
        }

        .topbar div, .onoff_td {
            display: table-cell;
            /* table-layout: fixed; */
            vertical-align: middle;
        }

        .print_wrap {
            width: 90%;
			margin: 0px auto;
			position: relative;
        }

        #circle_img {
			width: 45%;
			vertical-align: middle;
		}

        #square_img {
			width: 60%;
			vertical-align: middle;
		}

        .print_text {
			position: absolute;
			top: 0px;
			width: 100%;
			height: 100%;
		}

        #print_div1_table {
			display: table;
			width: 100%;
			height: 100%;
		}

        #print_div2_table {
			display: table;
			width: 50%;
			height: 100%;
            margin: auto;
		}

        #print_div1_tr, .print_div2_tr {
			display: table-row;
		}

        #print_div1_td, .print_div2_td {
			display: table-cell;
			vertical-align: middle;
		}

        #print_onoff {
            color: #C9F9FA;
            padding-top: 5%;
            font-size: 120%;
            font-weight: 600;
        }

        #print_auto {
            color: white;
            font-size: 90%;
        }

        #situation_name, #value_name {
            color: white;
            font-size: 90%;
            text-align: right;
        }

        #air_situation, #air1_value {
            color: white;
            font-size: 250%;
            padding-left: 0px;
        }

        .onoff_print {
            padding-top: 7%;
            padding-bottom: 3%;
        }

        .info {
            color: #959595;
            font-size: 80%;
            padding-bottom: 3%;
        }

        .auto_print {
            padding-top: 5%;
            padding-bottom: 1%;
        }

        button {
            border: 0px;
            padding: 8px 12px 8px 12px;
            border-radius: 7px;
        }

    </style>
</head>
<body onload="test(); CallbackFunction(); changeOnOffColor('{{ temp.situation }}'); changeIsAutoColor('{{ temp.is_auto }}');">
<form  method = "GET">
    <div class="container">
        <div class="topbar_table">
            <div class="topbar" id="topbar_div">
                <div id="arrow_div"><a href="/"><img id="arrow_img" src="/static/img/icon_arrow_home.png" alt="메인페이지 이동"></img></a></div>
                <div id="title_div"><span>Air Cleaner</span></div>
                <div id="logo_div"><img id="logo_img" src="/static/img/logo_som.png" alt="logo"></img></div>
            </div>
        </div>

        <br>
        <br>

        <div class="print_wrap" id="print_div1">
            <div id="circle_div"><img id="circle_img" src="/static/img/background_aircleaner.png"/></div>
            <div class="print_text" id="print_div1_text">
                <div id="print_div1_table">
                    <div id="print_div1_tr">
                        <div id="print_div1_td">
                            {% if air.situation == 0 %}
                            <div id="print_onoff">기기 작동 없음</div>
                            {% endif %}
                            {% if air.situation == 1 %}
                            <div id="print_onoff">세기 1 작동 중</div>
                            {% endif %}
                            {% if air.situation == 2 %}
                            <div id="print_onoff">세기 2 작동 중</div>
                            {% endif %}
                            {% if air.situation == 2 %}
                            <div id="print_onoff">세기 3 작동 중</div>
                            {% endif %}
                            
                            {% if air.is_auto == -1 or air.is_auto == 0 %}
                            <div id="print_auto">자동 제어 꺼짐</div>
                            {% endif %}
                            {% if air.is_auto == 1 %}
                            <div id="print_auto">자동 제어 켜짐</div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="print_wrap" id="print_div2">
            <div id="square_div"><img id="square_img" src="/static/img/background_square.png"/></div>
            <div class="print_text" id="print_div2_text">
                <div id="print_div2_table">
                    <div class="print_div2_tr" id="print_div2_tr1">
                        <div class="print_div2_td" id="situation_name">미세먼지<br>상태</div>
                        {% if air.situation == 1 %}
                        <div class="print_div2_td" id="air_situation">좋음</div>
                        {% endif %}
                        {% if air.situation == 2 %}
                        <div class="print_div2_td" id="air_situation">나쁨</div>
                        {% endif %}
                        {% if air.situation == 3 %}
                        <div class="print_div2_td" id="air_situation">매우 나쁨</div>
                        {% endif %}
                        
                    </div>
                    <div class="print_div2_tr" id="print_div2_tr2">
                        <div class="print_div2_td" id="value_name">농도</div>
                        <div class="print_div2_td" id="air1_value">{{ air.air1_value }}㎛</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="onoff_print" id="onoff_print_div">
            <span>- 기기 전원 온오프 -</span>
        </div>

        <div class="onoff_table">
            <div class="onoff_tr" id="onoff_div">
                <input type="hidden" name="air_is_auto" value="0"/> 
                <div class="onoff_td"><button id="on1" class="onoff_btn" type="submit" name="air_condition" value="1" >1</button></div>
                <div class="onoff_td"><button id="on2" class="onoff_btn" type="submit" name="air_condition" value="2" >2</button></div>
                <div class="onoff_td"><button id="on3" class="onoff_btn" type="submit" name="air_condition" value="3" >3</button></div>
                <div class="onoff_td"><button id="off" class="onoff_btn" type="submit" name="air_condition" value="0" >off</button></div>
                
            </div>
        </div>

        <div class="auto_print" id="auto_print_div">
            <span>- 기기 자동제어 설정 -</span>
        </div>

        <div class="info" id="info_div">
            <span>기기 전원 온오프를 하면 자동제어는 꺼집니다</span>
        </div>

        <div class="auto" id="auto_div">
            {% if air.is_auto == -1 or air.is_auto == 0 %}
            <div><button id="is_auto" type="submit" name="air_is_auto" value="1" >자동 제어 켜기</button></div>
            {% endif %}
            {% if air.is_auto == 1 %}
            <div><button id="is_auto" type="submit" name="air_is_auto" value="-1" >자동 제어 끄기</button></div>
            {% endif %}
        </div>
    </div>
</form>
</body>